# Study Data Repository

This repository contains data from a study evaluating LLM-generated intervention software for therapeutic exercises, involving 20 participants and their designed exercise instructions.

## Data Structure

### Participant Study Data

The `participant_study_data` folder contains individual participant data organized into 20 subdirectories (P1 through P20), each corresponding to a unique participant ID.

Each participant subdirectory contains the following structure:

#### 1. `instructions` folder
Contains two JSON files with instructions for the two exercises designed by each participant.

#### 2. `results` folder
Contains two JSON files with comparison results between participant binary labels and LLM-generated software monitored binary labels.

**Binary Label Definitions:**
- `True`: Patient completed the instruction
- `False`: Patient did not complete the instruction (incompletion)

**JSON Structure:**
```json
{
  "stepsAccuracy": "percentage of instructions judged to be adequately paced by the participant",
  "successfulFailedOmittedAccuracy": "percentage of software's monitored labels that match the participant's labels",
  "therapistReport": {
    "exerciseStep": "participant's prescribed instructions",
    "successfulInstructions": "participant's pre-labels"
  },
  "llmReport": {
    "exerciseStep": "participant's prescribed instructions", 
    "successfulInstructions": "software's monitored labels"
  }
}
```

#### 3. `scenic_programs` folder
Contains two Scenic programs (intervention software) generated by the LLM for each participant.

#### 4. `summaries` folder
Contains logs of monitored data collected by the two Scenic programs.

### Exercise Data

The `Exercises` folder contains exercise-related study data:

- **`template.txt`**: Worksheet instructions prepared by study personnel for each of the 10 exercise goals
- **`ex1.txt` through `ex10.txt`**: Ten files corresponding to 10 exercise goals, where each file contains instructions from 4 exercises designed by 4 different therapists

*Note: Each exercise goal has 4 exercises designed by 4 therapists, resulting in 40 total exercise variations across 10 goals.*

## Analysis Instructions

Follow these steps to reproduce the analysis and generate the results:

### Step 1: Set up Python Environment
Create a Python virtual environment with Python version 3.11:

```bash
python3.11 -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
```

### Step 2: Install Python Dependencies
Install the required packages using the requirements file:

```bash
pip install -r requirements.txt
```

### Step 3: Generate Analysis Data
Run the data loading script to generate the CSV file for analysis:

```bash
python data_load.py
```

This will create a `data_for_ICC.csv` file. The description of the data columns included in this CSV is documented in the `ICC_data_processing()` function within the script.

### Step 4: Install R Software
Install R software version 4.5.1 (or compatible version) from [https://www.r-project.org/](https://www.r-project.org/).

### Step 5: Generate Forest Plot
Run the R script to generate the forest plot (Figure 3 in the paper):

```bash
Rscript --vanilla forest_plot.R data_for_ICC.csv
```

This command will process the generated CSV file and create the forest plot visualization.

## Requirements

- **Python**: Version 3.11
- **R**: Version 4.5.1 (used for this analysis)
- **Dependencies**: Listed in `requirements.txt`

## Output

The analysis will generate:
- `data_for_ICC.csv`: Processed data for Intraclass Correlation Coefficient analysis
- Forest plot visualization (Figure 3 from the associated paper)

## Data Description

For detailed information about the data columns and structure in the generated CSV file, refer to the annotations in the `ICC_data_processing()` function in `data_load.py`.